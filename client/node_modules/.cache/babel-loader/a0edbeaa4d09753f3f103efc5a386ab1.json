{"ast":null,"code":"import _asyncToGenerator from\"/Users/y-jacobmlo/Desktop/mentAllyFinal/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/y-jacobmlo/Desktop/mentAllyFinal/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/y-jacobmlo/Desktop/mentAllyFinal/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/y-jacobmlo/Desktop/mentAllyFinal/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/y-jacobmlo/Desktop/mentAllyFinal/client/node_modules/@babel/runtime/regenerator/index.js\";import axios from\"axios\";import React,{useState}from\"react\";import{useContext}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{AuthContext}from\"../context/authContext\";import f1 from\"../images/mentally-logo.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState({username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),inputs=_useState2[0],setInputs=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),err=_useState4[0],setError=_useState4[1];var navigate=useNavigate();var _useContext=useContext(AuthContext),login=_useContext.login,currentUser=_useContext.currentUser;var handleChange=function handleChange(e){setInputs(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},e.target.name,e.target.value));});};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return login(inputs);case 4:navigate('/');_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);setError(_context.t0.response.data);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"h-screen w-full flex items-center justify-center bg-ally7\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full max-w-sm\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"bg-ally6 p-8 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"img\",{src:f1,className:\"w-full mx-auto mb-6\",alt:\"logo\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-center mb-4 text-ally7\",children:\"Customer Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"input\",{className:\"w-full border border-ally10 p-2 hover:ally1 rounded-lg\",type:\"text\",placeholder:\"Username\",name:\"username\",onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"input\",{className:\"w-full border border-ally10 p-2 rounded-lg\",type:\"password\",placeholder:\"Password\",name:\"password\",onChange:handleChange})}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-ally7 text-ally10 p-2 rounded-lg w-full hover:bg-ally1\",onClick:handleSubmit,children:\"Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-center\",children:/*#__PURE__*/_jsx(Link,{className:\"text-ally7 hover:ally8\",to:\"/register\",children:\"Create your Account\"})})]})})});};export default Login;","map":{"version":3,"sources":["/Users/y-jacobmlo/Desktop/mentAllyFinal/client/src/pages/Login.jsx"],"names":["axios","React","useState","useContext","Link","useNavigate","AuthContext","f1","Login","username","password","inputs","setInputs","err","setError","navigate","login","currentUser","handleChange","e","prev","target","name","value","handleSubmit","preventDefault","response","data","console","log"],"mappings":"wpBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,OAA3B,CACA,OAASC,IAAT,CAAeC,WAAf,KAAkC,kBAAlC,CACA,OAASC,WAAT,KAA4B,wBAA5B,CACA,MAAOC,CAAAA,EAAP,KAAe,6BAAf,C,wFAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClB,cAA4BN,QAAQ,CAAC,CACnCO,QAAQ,CAAE,EADyB,CAEnCC,QAAQ,CAAE,EAFyB,CAAD,CAApC,wCAAOC,MAAP,eAAeC,SAAf,eAIA,eAAwBV,QAAQ,CAAC,IAAD,CAAhC,yCAAOW,GAAP,eAAYC,QAAZ,eAEA,GAAMC,CAAAA,QAAQ,CAAGV,WAAW,EAA5B,CAEA,gBAA+BF,UAAU,CAACG,WAAD,CAAzC,CAAQU,KAAR,aAAQA,KAAR,CAAeC,WAAf,aAAeA,WAAf,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BP,SAAS,CAAC,SAACQ,IAAD,wCAAgBA,IAAhB,wBAAuBD,CAAC,CAACE,MAAF,CAASC,IAAhC,CAAuCH,CAAC,CAACE,MAAF,CAASE,KAAhD,IAAD,CAAT,CACD,CAFD,CAIA,GAAMC,CAAAA,YAAY,0FAAG,iBAAOL,CAAP,kHACnBA,CAAC,CAACM,cAAF,GADmB,sCAGXT,CAAAA,KAAK,CAACL,MAAD,CAHM,QAIjBI,QAAQ,CAAC,GAAD,CAAR,CAJiB,+EAMjBD,QAAQ,CAAC,YAAIY,QAAJ,CAAaC,IAAd,CAAR,CACAC,OAAO,CAACC,GAAR,cAPiB,oEAAH,kBAAZL,CAAAA,YAAY,4CAAlB,CAUA,mBACE,YAAK,SAAS,CAAC,2DAAf,uBACE,YAAK,SAAS,CAAC,iBAAf,uBACE,cAAM,SAAS,CAAC,mCAAhB,wBACE,YAAK,GAAG,CAAEjB,EAAV,CAAc,SAAS,CAAC,qBAAxB,CAA8C,GAAG,CAAC,MAAlD,EADF,cAEE,WAAI,SAAS,CAAC,iDAAd,4BAFF,cAGE,YAAK,SAAS,CAAC,MAAf,uBACE,cACE,SAAS,CAAC,wDADZ,CAEE,IAAI,CAAC,MAFP,CAGE,WAAW,CAAC,UAHd,CAIE,IAAI,CAAC,UAJP,CAKE,QAAQ,CAAEW,YALZ,EADF,EAHF,cAYE,YAAK,SAAS,CAAC,MAAf,uBACE,cACE,SAAS,CAAC,4CADZ,CAEE,IAAI,CAAC,UAFP,CAGE,WAAW,CAAC,UAHd,CAIE,IAAI,CAAC,UAJP,CAKE,QAAQ,CAAEA,YALZ,EADF,EAZF,cAqBE,eACE,SAAS,CAAC,2DADZ,CAEE,OAAO,CAAEM,YAFX,mBArBF,cA2BE,YAAK,SAAS,CAAC,kBAAf,uBACE,KAAC,IAAD,EACE,SAAS,CAAC,wBADZ,CAEE,EAAE,CAAC,WAFL,iCADF,EA3BF,GADF,EADF,EADF,CA0CD,CAnED,CAqEA,cAAehB,CAAAA,KAAf","sourcesContent":["import axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { useContext } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { AuthContext } from \"../context/authContext\";\nimport f1 from \"../images/mentally-logo.png\";\n\nconst Login = () => {\n  const [inputs, setInputs] = useState({\n    username: \"\",\n    password: \"\",\n  });\n  const [err, setError] = useState(null);\n\n  const navigate = useNavigate();\n\n  const { login, currentUser } = useContext(AuthContext);\n\n  const handleChange = (e) => {\n    setInputs((prev) => ({ ...prev, [e.target.name]: e.target.value }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await login(inputs)\n      navigate('/');\n    } catch (err) {\n      setError(err.response.data);\n      console.log(err);\n    }\n  };\n  return (\n    <div className=\"h-screen w-full flex items-center justify-center bg-ally7\">\n      <div className=\"w-full max-w-sm\">\n        <form className=\"bg-ally6 p-8 rounded-lg shadow-md\">\n          <img src={f1} className=\"w-full mx-auto mb-6\" alt=\"logo\" />\n          <h2 className=\"text-lg font-medium text-center mb-4 text-ally7\">Customer Login</h2>\n          <div className=\"mb-4\">\n            <input \n              className=\"w-full border border-ally10 p-2 hover:ally1 rounded-lg\" \n              type=\"text\" \n              placeholder=\"Username\"\n              name=\"username\"\n              onChange={handleChange}\n            />\n          </div>\n          <div className=\"mb-4\">\n            <input \n              className=\"w-full border border-ally10 p-2 rounded-lg\" \n              type=\"password\" \n              placeholder=\"Password\"\n              name=\"password\"\n              onChange={handleChange}\n            />\n          </div>\n          <button \n            className=\"bg-ally7 text-ally10 p-2 rounded-lg w-full hover:bg-ally1\"\n            onClick={handleSubmit}\n          >\n          Login\n          </button>\n          <div className=\"mt-4 text-center\">\n            <Link \n              className=\"text-ally7 hover:ally8\" \n              to=\"/register\"\n            >\n              Create your Account\n            </Link>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}